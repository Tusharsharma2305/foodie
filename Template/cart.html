{% extends "base.html" %}
{% block content %}
{% load static %}

<script>
  const formatter = new Intl.NumberFormat('en-US', {
        style: 'currency',
        currency: 'INR',
      });

  function priceFunction(id,price){
    $("#"+id).html(formatter.format(price))
  }

</script>

<section class="section food-menu" id="food-menu">
    <div class="container">
      <p class="section-subtitle">Cart Page</p>

      <h2 class="h2 section-title">
        Welcome to your <span class="span">Cart</span>
      </h2>

      <p class="section-text">
        Food is any substance consumed to provide nutritional support for
        an organism.
      </p>
      
      <!-- <ul class="fiter-list">
        <li>
          <button class="filter-btn active">All</button>
        </li>

        <li>
          <button class="filter-btn">Pizza</button>
        </li>

        <li>
          <button class="filter-btn">Burger</button>
        </li>

        <li>
          <button class="filter-btn">Drinks</button>
        </li>

        <li>
          <button class="filter-btn">Sandwich</button>
        </li>
      </ul> -->

      <ul id="food-items-list" class="food-menu-list">

        {% for item in cart %}
          
          <li>
            <div class="food-menu-card">
              <div class="card-banner">
                <img
                  src="{% static item.food_id.img_name %}"
                  width="300"
                  height="300"
                  loading="lazy"
                  alt="{{ item.food_id.food_title }}"
                  class="w-100"
                />
  
                <!-- <div class="badge">-15%</div> -->
  
               
              </div>
  
              <div class="wrapper">
                <p class="category">{{ item.food_id.food_title }}</p>
  
                <div class="rating-wrapper">
                  <ion-icon name="star"></ion-icon>
                  <ion-icon name="star"></ion-icon>
                  <ion-icon name="star"></ion-icon>
                  <ion-icon name="star"></ion-icon>
                  <ion-icon name="star"></ion-icon>
                </div>
              </div>
  
              <h3 class="h3 card-title">{{ item.food_id.feature }}</h3>
  
              <div class="price-wrapper">
                <p class="price-text">Price:</p>
  
                <data class="price" id="price-data-{{item.cart_id}}">{{ item.food_id.price }}</data>
  
                <del class="del" value="{{ item.food_id.price }}" id="price-del-{{item.cart_id}}"></del>
                <script>
                  priceFunction( "price-data-{{item.cart_id}}" , {{ item.food_id.price }}*{{ item.quantity }})
                  priceFunction("price-del-{{item.cart_id}}" , {{ item.food_id.price }}*{{ item.quantity }})
                </script>
              </div><hr>
              <div class="price-wrapper">
                  <p class="price-text">Quantity: </p>
  
                  <button style="margin-right: 3%;background-color: aquamarine;border-radius: 50%;padding: 8px 15px;"><i class="fa fa-plus"></i></button>
                  <input type="number" value="{{ item.quantity }}" readonly >
                  <button style="margin-right: 3%;background-color: rgb(255, 174, 127);border-radius: 50%;padding: 8px 15px;"><i class="fa fa-minus"></i>
                  </button>
                  <button style="margin-right: 3%;background-color: rgb(209, 61, 61);border-radius: 50%;padding: 8px 15px;"><i class="fa fa-trash"></i></button>
                </div>
            </div>
          </li>
        {% endfor %}

       

      </ul>
    </div>
  </section>

  <script src="{% static 'js/cart.js' %} "></script>

{% endblock %}